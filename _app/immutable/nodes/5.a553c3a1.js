import{S as Fe,i as Ze,s as Be,k as d,a as O,q as c,y as He,l as p,m as v,h as s,c as V,r as u,z as Je,n as h,b as E,E as o,A as Ke,u as I,g as Ye,d as ze,K as Xe,B as We,L as xe,e as Me,D as et,p as Ie}from"../chunks/index.81eab480.js";import{b as ye}from"../chunks/paths.2b040a3d.js";import{V as tt}from"../chunks/VoteCounts.a909927e.js";function Le(a,e,t){const r=a.slice();return r[5]=e[t],r[7]=t,r}function nt(a){let e=a[0].info.jurisdictionName+"",t,r,l=a[0].info.electionName+"",n;return{c(){t=c(e),r=O(),n=c(l)},l(i){t=u(i,e),r=V(i),n=u(i,l)},m(i,y){E(i,t,y),E(i,r,y),E(i,n,y)},p(i,y){y&1&&e!==(e=i[0].info.jurisdictionName+"")&&I(t,e),y&1&&l!==(l=i[0].info.electionName+"")&&I(n,l)},d(i){i&&s(t),i&&s(r),i&&s(n)}}}function rt(a){let e,t=a[0].info.jurisdictionName+"",r,l,n=a[0].info.electionName+"",i,y;return{c(){e=d("a"),r=c(t),l=O(),i=c(n),this.h()},l(_){e=p(_,"A",{href:!0});var m=v(e);r=u(m,t),l=V(m),i=u(m,n),m.forEach(s),this.h()},h(){h(e,"href",y=a[0].info.website)},m(_,m){E(_,e,m),o(e,r),o(e,l),o(e,i)},p(_,m){m&1&&t!==(t=_[0].info.jurisdictionName+"")&&I(r,t),m&1&&n!==(n=_[0].info.electionName+"")&&I(i,n),m&1&&y!==(y=_[0].info.website)&&h(e,"href",y)},d(_){_&&s(e)}}}function ot(a){let e,t,r=a[5].name+"",l;return{c(){e=c(`,
          `),t=d("strong"),l=c(r)},l(n){e=u(n,`,
          `),t=p(n,"STRONG",{});var i=v(t);l=u(i,r),i.forEach(s)},m(n,i){E(n,e,i),E(n,t,i),o(t,l)},p(n,i){i&1&&r!==(r=n[5].name+"")&&I(l,r)},d(n){n&&s(e),n&&s(t)}}}function at(a){let e,t,r=a[5].name+"",l;return{c(){e=c(`, and
          `),t=d("strong"),l=c(r)},l(n){e=u(n,`, and
          `),t=p(n,"STRONG",{});var i=v(t);l=u(i,r),i.forEach(s)},m(n,i){E(n,e,i),E(n,t,i),o(t,l)},p(n,i){i&1&&r!==(r=n[5].name+"")&&I(l,r)},d(n){n&&s(e),n&&s(t)}}}function lt(a){let e,t=a[5].name+"",r;return{c(){e=d("strong"),r=c(t)},l(l){e=p(l,"STRONG",{});var n=v(e);r=u(n,t),n.forEach(s)},m(l,n){E(l,e,n),o(e,r)},p(l,n){n&1&&t!==(t=l[5].name+"")&&I(r,t)},d(l){l&&s(e)}}}function Pe(a){let e;function t(n,i){return n[7]==0?lt:n[7]==n[0].winners.length-1?at:ot}let r=t(a),l=r(a);return{c(){l.c(),e=Me()},l(n){l.l(n),e=Me()},m(n,i){l.m(n,i),E(n,e,i)},p(n,i){r===(r=t(n))&&l?l.p(n,i):(l.d(1),l=r(n),l&&(l.c(),l.m(e.parentNode,e)))},d(n){l.d(n),n&&s(e)}}}function it(a){let e;return{c(){e=c("were the winners out of")},l(t){e=u(t,"were the winners out of")},m(t,r){E(t,e,r)},d(t){t&&s(e)}}}function st(a){let e;return{c(){e=c("was the winner out of")},l(t){e=u(t,"was the winner out of")},m(t,r){E(t,e,r)},d(t){t&&s(e)}}}function ft(a){let e;return{c(){e=c("candidates")},l(t){e=u(t,"candidates")},m(t,r){E(t,e,r)},d(t){t&&s(e)}}}function ct(a){let e;return{c(){e=c("candidate")},l(t){e=u(t,"candidate")},m(t,r){E(t,e,r)},d(t){t&&s(e)}}}function Ue(a){let e=a[0].info.notes+"",t;return{c(){t=c(e)},l(r){t=u(r,e)},m(r,l){E(r,t,l)},p(r,l){l&1&&e!==(e=r[0].info.notes+"")&&I(t,e)},d(r){r&&s(t)}}}function ut(a){let e,t,r,l,n,i,y,_,m,G=a[0].info.jurisdictionName+"",W,ne,Z=a[0].info.officeName+"",L,$,M,A,b,re,P,B,H=qe(a[0].info.date)+"",U,oe,Q,J,R,ae,K,g,N,T,ie,j,X=a[0].ballotCount.toLocaleString()+"",le,se,x,$e=a[2].toLocaleString()+"",we,Ee,ue,de=(a[2]/a[0].ballotCount).toFixed(1)+"",_e,ke,Ne,fe,ee,Y;function Ce(f,w){return f[0].info.website?rt:nt}let me=Ce(a),q=me(a),ce=a[1](a[0].candidates),C=[];for(let f=0;f<ce.length;f+=1)C[f]=Pe(Le(a,ce,f));function Se(f,w){return f[0].winners.length==1?st:it}let he=Se(a),z=he(a);function Qe(f,w){return f[3]==1?ct:ft}let ve=Qe(a)(a),S=a[0].info.notes&&Ue(a);return ee=new tt({props:{report:a[0]}}),{c(){e=d("div"),t=d("p"),r=O(),l=d("div"),n=d("h3"),i=d("a"),y=c("approval.vote"),_=c(`
      //
      `),m=d("strong"),W=c(G),ne=O(),L=c(Z),$=O(),M=d("div"),A=d("div"),b=d("p"),re=c(`The
      `),q.c(),P=c(`
      was held on
      `),B=d("strong"),U=c(H),oe=c(`.
      `);for(let f=0;f<C.length;f+=1)C[f].c();Q=O(),z.c(),J=O(),R=d("strong"),ae=c(a[3]),K=O(),ve.c(),g=c(". "),S&&S.c(),N=O(),T=d("p"),ie=c("There were "),j=d("strong"),le=c(X),se=c(` ballots,
      with `),x=d("strong"),we=c($e),Ee=c(` approvals. There was an
      average of `),ue=d("strong"),_e=c(de),ke=c(` approvals
      per ballot in this race.`),Ne=O(),fe=d("div"),He(ee.$$.fragment),this.h()},l(f){e=p(f,"DIV",{class:!0});var w=v(e);t=p(w,"P",{class:!0}),v(t).forEach(s),r=V(w),l=p(w,"DIV",{class:!0});var F=v(l);n=p(F,"H3",{});var k=v(n);i=p(k,"A",{href:!0});var pe=v(i);y=u(pe,"approval.vote"),pe.forEach(s),_=u(k,`
      //
      `),m=p(k,"STRONG",{});var Ae=v(m);W=u(Ae,G),Ae.forEach(s),ne=V(k),L=u(k,Z),k.forEach(s),F.forEach(s),w.forEach(s),$=V(f),M=p(f,"DIV",{class:!0});var be=v(M);A=p(be,"DIV",{class:!0});var ge=v(A);b=p(ge,"P",{});var D=v(b);re=u(D,`The
      `),q.l(D),P=u(D,`
      was held on
      `),B=p(D,"STRONG",{});var De=v(B);U=u(De,H),De.forEach(s),oe=u(D,`.
      `);for(let Te=0;Te<C.length;Te+=1)C[Te].l(D);Q=V(D),z.l(D),J=V(D),R=p(D,"STRONG",{});var Re=v(R);ae=u(Re,a[3]),Re.forEach(s),K=V(D),ve.l(D),g=u(D,". "),S&&S.l(D),D.forEach(s),N=V(ge),T=p(ge,"P",{});var te=v(T);ie=u(te,"There were "),j=p(te,"STRONG",{});var je=v(j);le=u(je,X),je.forEach(s),se=u(te,` ballots,
      with `),x=p(te,"STRONG",{});var Oe=v(x);we=u(Oe,$e),Oe.forEach(s),Ee=u(te,` approvals. There was an
      average of `),ue=p(te,"STRONG",{});var Ve=v(ue);_e=u(Ve,de),Ve.forEach(s),ke=u(te,` approvals
      per ballot in this race.`),te.forEach(s),ge.forEach(s),Ne=V(be),fe=p(be,"DIV",{class:!0});var Ge=v(fe);Je(ee.$$.fragment,Ge),Ge.forEach(s),be.forEach(s),this.h()},h(){h(t,"class","description"),h(i,"href",ye+"/"),h(l,"class","electionHeader"),h(e,"class","row"),h(A,"class","leftCol"),h(fe,"class","rightCol"),h(M,"class","row")},m(f,w){E(f,e,w),o(e,t),o(e,r),o(e,l),o(l,n),o(n,i),o(i,y),o(n,_),o(n,m),o(m,W),o(n,ne),o(n,L),E(f,$,w),E(f,M,w),o(M,A),o(A,b),o(b,re),q.m(b,null),o(b,P),o(b,B),o(B,U),o(b,oe);for(let F=0;F<C.length;F+=1)C[F]&&C[F].m(b,null);o(b,Q),z.m(b,null),o(b,J),o(b,R),o(R,ae),o(b,K),ve.m(b,null),o(b,g),S&&S.m(b,null),o(A,N),o(A,T),o(T,ie),o(T,j),o(j,le),o(T,se),o(T,x),o(x,we),o(T,Ee),o(T,ue),o(ue,_e),o(T,ke),o(M,Ne),o(M,fe),Ke(ee,fe,null),Y=!0},p(f,[w]){if((!Y||w&1)&&G!==(G=f[0].info.jurisdictionName+"")&&I(W,G),(!Y||w&1)&&Z!==(Z=f[0].info.officeName+"")&&I(L,Z),me===(me=Ce(f))&&q?q.p(f,w):(q.d(1),q=me(f),q&&(q.c(),q.m(b,P))),(!Y||w&1)&&H!==(H=qe(f[0].info.date)+"")&&I(U,H),w&3){ce=f[1](f[0].candidates);let k;for(k=0;k<ce.length;k+=1){const pe=Le(f,ce,k);C[k]?C[k].p(pe,w):(C[k]=Pe(pe),C[k].c(),C[k].m(b,Q))}for(;k<C.length;k+=1)C[k].d(1);C.length=ce.length}he!==(he=Se(f))&&(z.d(1),z=he(f),z&&(z.c(),z.m(b,J))),f[0].info.notes?S?S.p(f,w):(S=Ue(f),S.c(),S.m(b,null)):S&&(S.d(1),S=null),(!Y||w&1)&&X!==(X=f[0].ballotCount.toLocaleString()+"")&&I(le,X),(!Y||w&1)&&de!==(de=(f[2]/f[0].ballotCount).toFixed(1)+"")&&I(_e,de);const F={};w&1&&(F.report=f[0]),ee.$set(F)},i(f){Y||(Ye(ee.$$.fragment,f),Y=!0)},o(f){ze(ee.$$.fragment,f),Y=!1},d(f){f&&s(e),f&&s($),f&&s(M),q.d(),Xe(C,f),z.d(),ve.d(),S&&S.d(),We(ee)}}}function qe(a){let e=new Date(a);return`${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]} ${e.getUTCDate()}, ${e.getUTCFullYear()}`}function dt(a,e,t){let{report:r}=e;function l(_){return r.candidates[_]}function n(_){return _.length==1?[r.candidates[0]]:_.filter(m=>m.winner===!0)}xe("candidates",{getCandidate:l});const i=r.candidates.map(_=>_.votes).reduce((_,m)=>_+m),y=r.candidates.filter(_=>!_.writeIn).length;return a.$$set=_=>{"report"in _&&t(0,r=_.report)},[r,n,i,y]}class pt extends Fe{constructor(e){super(),Ze(this,e,dt,ut,Be,{report:0})}}function _t(a){let e,t,r,l,n,i,y,_,m,G,W,ne,Z,L,$,M,A,b,re,P,B,H,U,oe,Q,J,R,ae,K;return document.title=e="approval.vote: "+a[0].info.jurisdictionName+" / "+a[0].info.name+" / "+a[0].info.date.slice(0,4),G=new pt({props:{report:a[0]}}),{c(){t=d("meta"),r=d("meta"),l=d("meta"),n=d("meta"),i=d("meta"),y=d("meta"),_=O(),m=d("div"),He(G.$$.fragment),W=O(),ne=d("hr"),Z=O(),L=d("div"),$=d("p"),M=c("This report was generated by "),A=d("a"),b=c("approval.vote"),re=c(`
      and may be reproduced under
      `),P=d("a"),B=c("CC-BY"),H=c(`. Learn
      more `),U=d("a"),oe=c("about approval.vote"),Q=c("."),J=O(),R=d("a"),ae=c("card"),this.h()},l(g){const N=et("svelte-1ymsu8u",document.head);t=p(N,"META",{property:!0,content:!0}),r=p(N,"META",{property:!0,content:!0}),l=p(N,"META",{property:!0,content:!0}),n=p(N,"META",{property:!0,content:!0}),i=p(N,"META",{property:!0,content:!0}),y=p(N,"META",{property:!0,content:!0}),N.forEach(s),_=V(g),m=p(g,"DIV",{class:!0});var T=v(m);Je(G.$$.fragment,T),W=V(T),ne=p(T,"HR",{}),Z=V(T),L=p(T,"DIV",{class:!0});var ie=v(L);$=p(ie,"P",{style:!0});var j=v($);M=u(j,"This report was generated by "),A=p(j,"A",{href:!0});var X=v(A);b=u(X,"approval.vote"),X.forEach(s),re=u(j,`
      and may be reproduced under
      `),P=p(j,"A",{href:!0});var le=v(P);B=u(le,"CC-BY"),le.forEach(s),H=u(j,`. Learn
      more `),U=p(j,"A",{href:!0});var se=v(U);oe=u(se,"about approval.vote"),se.forEach(s),Q=u(j,"."),j.forEach(s),ie.forEach(s),T.forEach(s),J=V(g),R=p(g,"A",{style:!0,href:!0});var x=v(R);ae=u(x,"card"),x.forEach(s),this.h()},h(){h(t,"property","og:title"),h(t,"content",a[0].info.jurisdictionName+" / "+a[0].info.name),h(r,"property","og:image"),h(r,"content","https://r.moxy.social/ykZcSLKZUq/approval/fb.png/"+a[1]),h(l,"property","twitter:card"),h(l,"content","summary_large_image"),h(n,"property","twitter:creator"),h(n,"content","@paulgb"),h(i,"property","twitter:title"),h(i,"content",a[0].info.jurisdictionName+" / "+a[0].info.name),h(y,"property","twitter:image"),h(y,"content","https://r.moxy.social/ykZcSLKZUq/approval/twitter.png/"+a[1]),h(A,"href",ye+"/"),h(P,"href","https://creativecommons.org/licenses/by/2.0/"),h(U,"href",ye+"/about"),Ie($,"font-style","italic"),h(L,"class","row"),h(m,"class","wide container"),Ie(R,"display","none"),h(R,"href",ye+"/card/"+a[1])},m(g,N){o(document.head,t),o(document.head,r),o(document.head,l),o(document.head,n),o(document.head,i),o(document.head,y),E(g,_,N),E(g,m,N),Ke(G,m,null),o(m,W),o(m,ne),o(m,Z),o(m,L),o(L,$),o($,M),o($,A),o(A,b),o($,re),o($,P),o(P,B),o($,H),o($,U),o(U,oe),o($,Q),E(g,J,N),E(g,R,N),o(R,ae),K=!0},p(g,[N]){(!K||N&1)&&e!==(e="approval.vote: "+g[0].info.jurisdictionName+" / "+g[0].info.name+" / "+g[0].info.date.slice(0,4))&&(document.title=e)},i(g){K||(Ye(G.$$.fragment,g),K=!0)},o(g){ze(G.$$.fragment,g),K=!1},d(g){s(t),s(r),s(l),s(n),s(i),s(y),g&&s(_),g&&s(m),We(G),g&&s(J),g&&s(R)}}}function mt(a,e,t){let{data:r}=e,l=r.report,n=r.path;return a.$$set=i=>{"data"in i&&t(2,r=i.data)},[l,n,r]}class yt extends Fe{constructor(e){super(),Ze(this,e,mt,_t,Be,{data:2})}}export{yt as component};
