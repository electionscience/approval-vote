import{s as Ue,d as Xe}from"../chunks/scheduler._RQNZmqd.js";import{S as Fe,i as Pe,e as p,s as A,t as d,n as Ze,c as m,b as k,d as s,a as D,g as Je,l as _,p as Ke,f as g,h as y,j as i,q as Ye,w as R,r as Be,u as We,k as xe,v as ze,m as Ve,o as et,x as tt}from"../chunks/index.BquU_noq.js";import{b as _e}from"../chunks/paths.DQPMhO6E.js";import{e as Ge}from"../chunks/each.D6YF6ztN.js";import{V as nt}from"../chunks/VoteCounts.B47na8yU.js";function Ie(o,e,t){const r=o.slice();return r[5]=e[t],r[7]=t,r}function rt(o){let e=o[0].info.jurisdictionName+"",t,r,a=o[0].info.electionName+"",n;return{c(){t=d(e),r=A(),n=d(a)},l(l){t=_(l,e),r=D(l),n=_(l,a)},m(l,b){y(l,t,b),y(l,r,b),y(l,n,b)},p(l,b){b&1&&e!==(e=l[0].info.jurisdictionName+"")&&R(t,e),b&1&&a!==(a=l[0].info.electionName+"")&&R(n,a)},d(l){l&&(s(t),s(r),s(n))}}}function ot(o){let e,t=o[0].info.jurisdictionName+"",r,a,n=o[0].info.electionName+"",l,b;return{c(){e=p("a"),r=d(t),a=A(),l=d(n),this.h()},l(c){e=m(c,"A",{href:!0});var u=k(e);r=_(u,t),a=D(u),l=_(u,n),u.forEach(s),this.h()},h(){g(e,"href",b=o[0].info.website)},m(c,u){y(c,e,u),i(e,r),i(e,a),i(e,l)},p(c,u){u&1&&t!==(t=c[0].info.jurisdictionName+"")&&R(r,t),u&1&&n!==(n=c[0].info.electionName+"")&&R(l,n),u&1&&b!==(b=c[0].info.website)&&g(e,"href",b)},d(c){c&&s(e)}}}function at(o){let e,t,r=o[5].name+"",a;return{c(){e=d(`,
          `),t=p("strong"),a=d(r)},l(n){e=_(n,`,
          `),t=m(n,"STRONG",{});var l=k(t);a=_(l,r),l.forEach(s)},m(n,l){y(n,e,l),y(n,t,l),i(t,a)},p(n,l){l&1&&r!==(r=n[5].name+"")&&R(a,r)},d(n){n&&(s(e),s(t))}}}function lt(o){let e,t,r=o[5].name+"",a;return{c(){e=d(`, and
          `),t=p("strong"),a=d(r)},l(n){e=_(n,`, and
          `),t=m(n,"STRONG",{});var l=k(t);a=_(l,r),l.forEach(s)},m(n,l){y(n,e,l),y(n,t,l),i(t,a)},p(n,l){l&1&&r!==(r=n[5].name+"")&&R(a,r)},d(n){n&&(s(e),s(t))}}}function it(o){let e,t=o[5].name+"",r;return{c(){e=p("strong"),r=d(t)},l(a){e=m(a,"STRONG",{});var n=k(e);r=_(n,t),n.forEach(s)},m(a,n){y(a,e,n),i(e,r)},p(a,n){n&1&&t!==(t=a[5].name+"")&&R(r,t)},d(a){a&&s(e)}}}function Le(o){let e;function t(n,l){return n[7]==0?it:n[7]==n[0].winners.length-1?lt:at}let r=t(o),a=r(o);return{c(){a.c(),e=Ve()},l(n){a.l(n),e=Ve()},m(n,l){a.m(n,l),y(n,e,l)},p(n,l){r===(r=t(n))&&a?a.p(n,l):(a.d(1),a=r(n),a&&(a.c(),a.m(e.parentNode,e)))},d(n){n&&s(e),a.d(n)}}}function st(o){let e;return{c(){e=d("were the winners out of")},l(t){e=_(t,"were the winners out of")},m(t,r){y(t,e,r)},d(t){t&&s(e)}}}function ft(o){let e;return{c(){e=d("was the winner out of")},l(t){e=_(t,"was the winner out of")},m(t,r){y(t,e,r)},d(t){t&&s(e)}}}function ct(o){let e;return{c(){e=d("candidates")},l(t){e=_(t,"candidates")},m(t,r){y(t,e,r)},d(t){t&&s(e)}}}function ut(o){let e;return{c(){e=d("candidate")},l(t){e=_(t,"candidate")},m(t,r){y(t,e,r)},d(t){t&&s(e)}}}function qe(o){let e=o[0].info.notes+"",t;return{c(){t=d(e)},l(r){t=_(r,e)},m(r,a){y(r,t,a)},p(r,a){a&1&&e!==(e=r[0].info.notes+"")&&R(t,e)},d(r){r&&s(t)}}}function dt(o){let e,t,r,a,n,l,b="approval.vote",c,u,M=o[0].info.jurisdictionName+"",P,K,q=o[0].info.officeName+"",O,Y,j,T,h,H,v,E,V=He(o[0].info.date)+"",B,pe,oe,ae,Q,me,he,ve,ge,G,be,X,x=o[0].ballotCount.toLocaleString()+"",le,we,ee,$e=o[2].toLocaleString()+"",ye,ke,te,ne=(o[2]/o[0].ballotCount).toFixed(1)+"",ie,Ee,Ne,W,Z,U;function Ce(f,w){return f[0].info.website?ot:rt}let se=Ce(o),I=se(o),z=Ge(o[1](o[0].candidates)),$=[];for(let f=0;f<z.length;f+=1)$[f]=Le(Ie(o,z,f));function Se(f,w){return f[0].winners.length==1?ft:st}let fe=Se(o),F=fe(o);function Qe(f,w){return f[3]==1?ut:ct}let ce=Qe(o)(o),C=o[0].info.notes&&qe(o);return Z=new nt({props:{report:o[0]}}),{c(){e=p("div"),t=p("p"),r=A(),a=p("div"),n=p("h3"),l=p("a"),l.textContent=b,c=d(`
      //
      `),u=p("strong"),P=d(M),K=A(),O=d(q),Y=A(),j=p("div"),T=p("div"),h=p("p"),H=d(`The
      `),I.c(),v=d(`
      was held on
      `),E=p("strong"),B=d(V),pe=d(`.
      `);for(let f=0;f<$.length;f+=1)$[f].c();oe=A(),F.c(),ae=A(),Q=p("strong"),me=d(o[3]),he=A(),ce.c(),ve=d(". "),C&&C.c(),ge=A(),G=p("p"),be=d("There were "),X=p("strong"),le=d(x),we=d(` ballots,
      with `),ee=p("strong"),ye=d($e),ke=d(` approvals. There was an
      average of `),te=p("strong"),ie=d(ne),Ee=d(` approvals
      per ballot in this race.`),Ne=A(),W=p("div"),Ze(Z.$$.fragment),this.h()},l(f){e=m(f,"DIV",{class:!0});var w=k(e);t=m(w,"P",{class:!0}),k(t).forEach(s),r=D(w),a=m(w,"DIV",{class:!0});var L=k(a);n=m(L,"H3",{});var N=k(n);l=m(N,"A",{href:!0,"data-svelte-h":!0}),Je(l)!=="svelte-1ibrwq9"&&(l.textContent=b),c=_(N,`
      //
      `),u=m(N,"STRONG",{});var re=k(u);P=_(re,M),re.forEach(s),K=D(N),O=_(N,q),N.forEach(s),L.forEach(s),w.forEach(s),Y=D(f),j=m(f,"DIV",{class:!0});var ue=k(j);T=m(ue,"DIV",{class:!0});var de=k(T);h=m(de,"P",{});var S=k(h);H=_(S,`The
      `),I.l(S),v=_(S,`
      was held on
      `),E=m(S,"STRONG",{});var je=k(E);B=_(je,V),je.forEach(s),pe=_(S,`.
      `);for(let Te=0;Te<$.length;Te+=1)$[Te].l(S);oe=D(S),F.l(S),ae=D(S),Q=m(S,"STRONG",{});var Ae=k(Q);me=_(Ae,o[3]),Ae.forEach(s),he=D(S),ce.l(S),ve=_(S,". "),C&&C.l(S),S.forEach(s),ge=D(de),G=m(de,"P",{});var J=k(G);be=_(J,"There were "),X=m(J,"STRONG",{});var De=k(X);le=_(De,x),De.forEach(s),we=_(J,` ballots,
      with `),ee=m(J,"STRONG",{});var Me=k(ee);ye=_(Me,$e),Me.forEach(s),ke=_(J,` approvals. There was an
      average of `),te=m(J,"STRONG",{});var Re=k(te);ie=_(Re,ne),Re.forEach(s),Ee=_(J,` approvals
      per ballot in this race.`),J.forEach(s),de.forEach(s),Ne=D(ue),W=m(ue,"DIV",{class:!0});var Oe=k(W);Ke(Z.$$.fragment,Oe),Oe.forEach(s),ue.forEach(s),this.h()},h(){g(t,"class","description"),g(l,"href",_e+"/"),g(a,"class","electionHeader"),g(e,"class","row"),g(T,"class","leftCol"),g(W,"class","rightCol"),g(j,"class","row")},m(f,w){y(f,e,w),i(e,t),i(e,r),i(e,a),i(a,n),i(n,l),i(n,c),i(n,u),i(u,P),i(n,K),i(n,O),y(f,Y,w),y(f,j,w),i(j,T),i(T,h),i(h,H),I.m(h,null),i(h,v),i(h,E),i(E,B),i(h,pe);for(let L=0;L<$.length;L+=1)$[L]&&$[L].m(h,null);i(h,oe),F.m(h,null),i(h,ae),i(h,Q),i(Q,me),i(h,he),ce.m(h,null),i(h,ve),C&&C.m(h,null),i(T,ge),i(T,G),i(G,be),i(G,X),i(X,le),i(G,we),i(G,ee),i(ee,ye),i(G,ke),i(G,te),i(te,ie),i(G,Ee),i(j,Ne),i(j,W),Ye(Z,W,null),U=!0},p(f,[w]){if((!U||w&1)&&M!==(M=f[0].info.jurisdictionName+"")&&R(P,M),(!U||w&1)&&q!==(q=f[0].info.officeName+"")&&R(O,q),se===(se=Ce(f))&&I?I.p(f,w):(I.d(1),I=se(f),I&&(I.c(),I.m(h,v))),(!U||w&1)&&V!==(V=He(f[0].info.date)+"")&&R(B,V),w&3){z=Ge(f[1](f[0].candidates));let N;for(N=0;N<z.length;N+=1){const re=Ie(f,z,N);$[N]?$[N].p(re,w):($[N]=Le(re),$[N].c(),$[N].m(h,oe))}for(;N<$.length;N+=1)$[N].d(1);$.length=z.length}fe!==(fe=Se(f))&&(F.d(1),F=fe(f),F&&(F.c(),F.m(h,ae))),f[0].info.notes?C?C.p(f,w):(C=qe(f),C.c(),C.m(h,null)):C&&(C.d(1),C=null),(!U||w&1)&&x!==(x=f[0].ballotCount.toLocaleString()+"")&&R(le,x),(!U||w&1)&&ne!==(ne=(f[2]/f[0].ballotCount).toFixed(1)+"")&&R(ie,ne);const L={};w&1&&(L.report=f[0]),Z.$set(L)},i(f){U||(Be(Z.$$.fragment,f),U=!0)},o(f){We(Z.$$.fragment,f),U=!1},d(f){f&&(s(e),s(Y),s(j)),I.d(),xe($,f),F.d(),ce.d(),C&&C.d(),ze(Z)}}}function He(o){let e=new Date(o);return`${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]} ${e.getUTCDate()}, ${e.getUTCFullYear()}`}function _t(o,e,t){let{report:r}=e;function a(c){return r.candidates[c]}function n(c){return c.length==1?[r.candidates[0]]:c.filter(u=>u.winner===!0)}Xe("candidates",{getCandidate:a});const l=r.candidates.map(c=>c.votes).reduce((c,u)=>c+u),b=r.candidates.filter(c=>!c.writeIn).length;return o.$$set=c=>{"report"in c&&t(0,r=c.report)},[r,n,l,b]}class pt extends Fe{constructor(e){super(),Pe(this,e,_t,dt,Ue,{report:0})}}function mt(o){let e,t,r,a,n,l,b,c,u,M,P,K,q,O,Y=`<p style="font-style: italic;">This report was generated by <a href="${_e}/">approval.vote</a>
      and may be reproduced under
      <a href="https://creativecommons.org/licenses/by/2.0/">CC-BY</a>. Learn
      more <a href="${_e}/about">about approval.vote</a>.</p>`,j,T,h,H;return document.title=e="approval.vote: "+o[0].info.jurisdictionName+" / "+o[0].info.name+" / "+o[0].info.date.slice(0,4),M=new pt({props:{report:o[0]}}),{c(){t=p("meta"),r=p("meta"),a=p("meta"),n=p("meta"),l=p("meta"),b=p("meta"),c=A(),u=p("div"),Ze(M.$$.fragment),P=A(),K=p("hr"),q=A(),O=p("div"),O.innerHTML=Y,j=A(),T=p("a"),h=d("card"),this.h()},l(v){const E=et("svelte-1ymsu8u",document.head);t=m(E,"META",{property:!0,content:!0}),r=m(E,"META",{property:!0,content:!0}),a=m(E,"META",{property:!0,content:!0}),n=m(E,"META",{property:!0,content:!0}),l=m(E,"META",{property:!0,content:!0}),b=m(E,"META",{property:!0,content:!0}),E.forEach(s),c=D(v),u=m(v,"DIV",{class:!0});var V=k(u);Ke(M.$$.fragment,V),P=D(V),K=m(V,"HR",{}),q=D(V),O=m(V,"DIV",{class:!0,"data-svelte-h":!0}),Je(O)!=="svelte-12xp6gq"&&(O.innerHTML=Y),V.forEach(s),j=D(v),T=m(v,"A",{style:!0,href:!0});var B=k(T);h=_(B,"card"),B.forEach(s),this.h()},h(){g(t,"property","og:title"),g(t,"content",o[0].info.jurisdictionName+" / "+o[0].info.name),g(r,"property","og:image"),g(r,"content","https://r.moxy.social/ykZcSLKZUq/approval/fb.png/"+o[1]),g(a,"property","twitter:card"),g(a,"content","summary_large_image"),g(n,"property","twitter:creator"),g(n,"content","@paulgb"),g(l,"property","twitter:title"),g(l,"content",o[0].info.jurisdictionName+" / "+o[0].info.name),g(b,"property","twitter:image"),g(b,"content","https://r.moxy.social/ykZcSLKZUq/approval/twitter.png/"+o[1]),g(O,"class","row"),g(u,"class","wide container"),tt(T,"display","none"),g(T,"href",_e+"/card/"+o[1])},m(v,E){i(document.head,t),i(document.head,r),i(document.head,a),i(document.head,n),i(document.head,l),i(document.head,b),y(v,c,E),y(v,u,E),Ye(M,u,null),i(u,P),i(u,K),i(u,q),i(u,O),y(v,j,E),y(v,T,E),i(T,h),H=!0},p(v,[E]){(!H||E&1)&&e!==(e="approval.vote: "+v[0].info.jurisdictionName+" / "+v[0].info.name+" / "+v[0].info.date.slice(0,4))&&(document.title=e)},i(v){H||(Be(M.$$.fragment,v),H=!0)},o(v){We(M.$$.fragment,v),H=!1},d(v){v&&(s(c),s(u),s(j),s(T)),s(t),s(r),s(a),s(n),s(l),s(b),ze(M)}}}function ht(o,e,t){let{data:r}=e,a=r.report,n=r.path;return o.$$set=l=>{"data"in l&&t(2,r=l.data)},[a,n,r]}class Et extends Fe{constructor(e){super(),Pe(this,e,ht,mt,Ue,{data:2})}}export{Et as component};
