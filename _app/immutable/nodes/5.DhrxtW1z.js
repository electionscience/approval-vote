import{s as Fe,d as Ze}from"../chunks/scheduler._RQNZmqd.js";import{S as Pe,i as Je,e as _,s as j,t as u,n as Ue,c as m,b as y,d as s,a as D,g as Ye,l as d,p as Be,f as b,h as w,j as i,q as We,w as A,r as ze,u as Ke,k as xe,v as Qe,m as Ve,o as et,x as tt}from"../chunks/index.BquU_noq.js";import{b as _e}from"../chunks/paths.BCP9n3Ti.js";import{e as Ge}from"../chunks/each.D6YF6ztN.js";import{V as nt}from"../chunks/VoteCounts.B47na8yU.js";function Ie(o,e,t){const r=o.slice();return r[5]=e[t],r[7]=t,r}function rt(o){let e=o[0].info.jurisdictionName+"",t,r,a=o[0].info.electionName+"",n;return{c(){t=u(e),r=j(),n=u(a)},l(l){t=d(l,e),r=D(l),n=d(l,a)},m(l,k){w(l,t,k),w(l,r,k),w(l,n,k)},p(l,k){k&1&&e!==(e=l[0].info.jurisdictionName+"")&&A(t,e),k&1&&a!==(a=l[0].info.electionName+"")&&A(n,a)},d(l){l&&(s(t),s(r),s(n))}}}function ot(o){let e,t=o[0].info.jurisdictionName+"",r,a,n=o[0].info.electionName+"",l,k;return{c(){e=_("a"),r=u(t),a=j(),l=u(n),this.h()},l(c){e=m(c,"A",{href:!0});var p=y(e);r=d(p,t),a=D(p),l=d(p,n),p.forEach(s),this.h()},h(){b(e,"href",k=o[0].info.website)},m(c,p){w(c,e,p),i(e,r),i(e,a),i(e,l)},p(c,p){p&1&&t!==(t=c[0].info.jurisdictionName+"")&&A(r,t),p&1&&n!==(n=c[0].info.electionName+"")&&A(l,n),p&1&&k!==(k=c[0].info.website)&&b(e,"href",k)},d(c){c&&s(e)}}}function at(o){let e,t,r=o[5].name+"",a;return{c(){e=u(`,
          `),t=_("strong"),a=u(r)},l(n){e=d(n,`,
          `),t=m(n,"STRONG",{});var l=y(t);a=d(l,r),l.forEach(s)},m(n,l){w(n,e,l),w(n,t,l),i(t,a)},p(n,l){l&1&&r!==(r=n[5].name+"")&&A(a,r)},d(n){n&&(s(e),s(t))}}}function lt(o){let e,t,r=o[5].name+"",a;return{c(){e=u(`, and
          `),t=_("strong"),a=u(r)},l(n){e=d(n,`, and
          `),t=m(n,"STRONG",{});var l=y(t);a=d(l,r),l.forEach(s)},m(n,l){w(n,e,l),w(n,t,l),i(t,a)},p(n,l){l&1&&r!==(r=n[5].name+"")&&A(a,r)},d(n){n&&(s(e),s(t))}}}function it(o){let e,t=o[5].name+"",r;return{c(){e=_("strong"),r=u(t)},l(a){e=m(a,"STRONG",{});var n=y(e);r=d(n,t),n.forEach(s)},m(a,n){w(a,e,n),i(e,r)},p(a,n){n&1&&t!==(t=a[5].name+"")&&A(r,t)},d(a){a&&s(e)}}}function Le(o){let e;function t(n,l){return n[7]==0?it:n[7]==n[0].winners.length-1?lt:at}let r=t(o),a=r(o);return{c(){a.c(),e=Ve()},l(n){a.l(n),e=Ve()},m(n,l){a.m(n,l),w(n,e,l)},p(n,l){r===(r=t(n))&&a?a.p(n,l):(a.d(1),a=r(n),a&&(a.c(),a.m(e.parentNode,e)))},d(n){n&&s(e),a.d(n)}}}function st(o){let e;return{c(){e=u("were the winners out of")},l(t){e=d(t,"were the winners out of")},m(t,r){w(t,e,r)},d(t){t&&s(e)}}}function ft(o){let e;return{c(){e=u("was the winner out of")},l(t){e=d(t,"was the winner out of")},m(t,r){w(t,e,r)},d(t){t&&s(e)}}}function ct(o){let e;return{c(){e=u("candidates")},l(t){e=d(t,"candidates")},m(t,r){w(t,e,r)},d(t){t&&s(e)}}}function ut(o){let e;return{c(){e=u("candidate")},l(t){e=d(t,"candidate")},m(t,r){w(t,e,r)},d(t){t&&s(e)}}}function He(o){let e=o[0].info.notes+"",t;return{c(){t=u(e)},l(r){t=d(r,e)},m(r,a){w(r,t,a)},p(r,a){a&1&&e!==(e=r[0].info.notes+"")&&A(t,e)},d(r){r&&s(t)}}}function dt(o){let e,t,r,a,n,l,k="approval.vote",c,p,L=o[0].info.jurisdictionName+"",P,B,R=o[0].info.officeName+"",W,H,E,M,h,v,T,O,J=qe(o[0].info.date)+"",re,me,oe,ae,Q,pe,he,ve,ge,V,be,X,Z=o[0].ballotCount.toLocaleString()+"",le,we,x,$e=o[2].toLocaleString()+"",ke,ye,ee,te=(o[2]/o[0].ballotCount).toFixed(1)+"",ie,Ne,Ee,z,U,q;function Ce(f,g){return f[0].info.website?ot:rt}let se=Ce(o),G=se(o),K=Ge(o[1](o[0].candidates)),$=[];for(let f=0;f<K.length;f+=1)$[f]=Le(Ie(o,K,f));function Se(f,g){return f[0].winners.length==1?ft:st}let fe=Se(o),F=fe(o);function Xe(f,g){return f[3]==1?ut:ct}let ce=Xe(o)(o),C=o[0].info.notes&&He(o);return U=new nt({props:{report:o[0]}}),{c(){e=_("div"),t=_("p"),r=j(),a=_("div"),n=_("h3"),l=_("a"),l.textContent=k,c=u(`
      //
      `),p=_("strong"),P=u(L),B=j(),W=u(R),H=j(),E=_("div"),M=_("div"),h=_("p"),v=u(`The
      `),G.c(),T=u(`
      was held on
      `),O=_("strong"),re=u(J),me=u(`.
      `);for(let f=0;f<$.length;f+=1)$[f].c();oe=j(),F.c(),ae=j(),Q=_("strong"),pe=u(o[3]),he=j(),ce.c(),ve=u(". "),C&&C.c(),ge=j(),V=_("p"),be=u("There were "),X=_("strong"),le=u(Z),we=u(` ballots,
      with `),x=_("strong"),ke=u($e),ye=u(` approvals. There was an
      average of `),ee=_("strong"),ie=u(te),Ne=u(` approvals
      per ballot in this race.`),Ee=j(),z=_("div"),Ue(U.$$.fragment),this.h()},l(f){e=m(f,"DIV",{class:!0});var g=y(e);t=m(g,"P",{class:!0}),y(t).forEach(s),r=D(g),a=m(g,"DIV",{class:!0});var I=y(a);n=m(I,"H3",{});var N=y(n);l=m(N,"A",{href:!0,"data-svelte-h":!0}),Ye(l)!=="svelte-1ibrwq9"&&(l.textContent=k),c=d(N,`
      //
      `),p=m(N,"STRONG",{});var ne=y(p);P=d(ne,L),ne.forEach(s),B=D(N),W=d(N,R),N.forEach(s),I.forEach(s),g.forEach(s),H=D(f),E=m(f,"DIV",{class:!0});var ue=y(E);M=m(ue,"DIV",{class:!0});var de=y(M);h=m(de,"P",{});var S=y(h);v=d(S,`The
      `),G.l(S),T=d(S,`
      was held on
      `),O=m(S,"STRONG",{});var je=y(O);re=d(je,J),je.forEach(s),me=d(S,`.
      `);for(let Te=0;Te<$.length;Te+=1)$[Te].l(S);oe=D(S),F.l(S),ae=D(S),Q=m(S,"STRONG",{});var De=y(Q);pe=d(De,o[3]),De.forEach(s),he=D(S),ce.l(S),ve=d(S,". "),C&&C.l(S),S.forEach(s),ge=D(de),V=m(de,"P",{});var Y=y(V);be=d(Y,"There were "),X=m(Y,"STRONG",{});var Re=y(X);le=d(Re,Z),Re.forEach(s),we=d(Y,` ballots,
      with `),x=m(Y,"STRONG",{});var Ae=y(x);ke=d(Ae,$e),Ae.forEach(s),ye=d(Y,` approvals. There was an
      average of `),ee=m(Y,"STRONG",{});var Me=y(ee);ie=d(Me,te),Me.forEach(s),Ne=d(Y,` approvals
      per ballot in this race.`),Y.forEach(s),de.forEach(s),Ee=D(ue),z=m(ue,"DIV",{class:!0});var Oe=y(z);Be(U.$$.fragment,Oe),Oe.forEach(s),ue.forEach(s),this.h()},h(){b(t,"class","description"),b(l,"href",_e+"/"),b(a,"class","electionHeader"),b(e,"class","row"),b(M,"class","leftCol"),b(z,"class","rightCol"),b(E,"class","row")},m(f,g){w(f,e,g),i(e,t),i(e,r),i(e,a),i(a,n),i(n,l),i(n,c),i(n,p),i(p,P),i(n,B),i(n,W),w(f,H,g),w(f,E,g),i(E,M),i(M,h),i(h,v),G.m(h,null),i(h,T),i(h,O),i(O,re),i(h,me);for(let I=0;I<$.length;I+=1)$[I]&&$[I].m(h,null);i(h,oe),F.m(h,null),i(h,ae),i(h,Q),i(Q,pe),i(h,he),ce.m(h,null),i(h,ve),C&&C.m(h,null),i(M,ge),i(M,V),i(V,be),i(V,X),i(X,le),i(V,we),i(V,x),i(x,ke),i(V,ye),i(V,ee),i(ee,ie),i(V,Ne),i(E,Ee),i(E,z),We(U,z,null),q=!0},p(f,[g]){if((!q||g&1)&&L!==(L=f[0].info.jurisdictionName+"")&&A(P,L),(!q||g&1)&&R!==(R=f[0].info.officeName+"")&&A(W,R),se===(se=Ce(f))&&G?G.p(f,g):(G.d(1),G=se(f),G&&(G.c(),G.m(h,T))),(!q||g&1)&&J!==(J=qe(f[0].info.date)+"")&&A(re,J),g&3){K=Ge(f[1](f[0].candidates));let N;for(N=0;N<K.length;N+=1){const ne=Ie(f,K,N);$[N]?$[N].p(ne,g):($[N]=Le(ne),$[N].c(),$[N].m(h,oe))}for(;N<$.length;N+=1)$[N].d(1);$.length=K.length}fe!==(fe=Se(f))&&(F.d(1),F=fe(f),F&&(F.c(),F.m(h,ae))),f[0].info.notes?C?C.p(f,g):(C=He(f),C.c(),C.m(h,null)):C&&(C.d(1),C=null),(!q||g&1)&&Z!==(Z=f[0].ballotCount.toLocaleString()+"")&&A(le,Z),(!q||g&1)&&te!==(te=(f[2]/f[0].ballotCount).toFixed(1)+"")&&A(ie,te);const I={};g&1&&(I.report=f[0]),U.$set(I)},i(f){q||(ze(U.$$.fragment,f),q=!0)},o(f){Ke(U.$$.fragment,f),q=!1},d(f){f&&(s(e),s(H),s(E)),G.d(),xe($,f),F.d(),ce.d(),C&&C.d(),Qe(U)}}}function qe(o){let e=new Date(o);return`${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]} ${e.getUTCDate()}, ${e.getUTCFullYear()}`}function _t(o,e,t){let{report:r}=e;function a(c){return r.candidates[c]}function n(c){return c.length==1?[r.candidates[0]]:c.filter(p=>p.winner===!0)}Ze("candidates",{getCandidate:a});const l=r.candidates.map(c=>c.votes).reduce((c,p)=>c+p),k=r.candidates.filter(c=>!c.writeIn).length;return o.$$set=c=>{"report"in c&&t(0,r=c.report)},[r,n,l,k]}class mt extends Pe{constructor(e){super(),Je(this,e,_t,dt,Fe,{report:0})}}function pt(o){let e,t,r,a,n,l,k,c,p,L,P,B,R,W=`<p style="font-style: italic;">This report was generated by <a href="${_e}/">approval.vote</a>
      and may be reproduced under
      <a href="https://creativecommons.org/licenses/by/2.0/">CC-BY</a>. Learn
      more <a href="${_e}/about">about approval.vote</a>.</p>`,H,E,M,h;return document.title=e="approval.vote: "+o[0].info.jurisdictionName+" / "+o[0].info.name+" / "+o[0].info.date.slice(0,4),p=new mt({props:{report:o[0]}}),{c(){t=_("meta"),r=_("meta"),a=_("meta"),n=_("meta"),l=_("meta"),k=j(),c=_("div"),Ue(p.$$.fragment),L=j(),P=_("hr"),B=j(),R=_("div"),R.innerHTML=W,H=j(),E=_("a"),M=u("card"),this.h()},l(v){const T=et("svelte-1ce35gr",document.head);t=m(T,"META",{property:!0,content:!0}),r=m(T,"META",{property:!0,content:!0}),a=m(T,"META",{property:!0,content:!0}),n=m(T,"META",{property:!0,content:!0}),l=m(T,"META",{name:!0,content:!0}),T.forEach(s),k=D(v),c=m(v,"DIV",{class:!0});var O=y(c);Be(p.$$.fragment,O),L=D(O),P=m(O,"HR",{}),B=D(O),R=m(O,"DIV",{class:!0,"data-svelte-h":!0}),Ye(R)!=="svelte-12xp6gq"&&(R.innerHTML=W),O.forEach(s),H=D(v),E=m(v,"A",{style:!0,href:!0});var J=y(E);M=d(J,"card"),J.forEach(s),this.h()},h(){b(t,"property","og:title"),b(t,"content",o[0].info.jurisdictionName+" / "+o[0].info.name),b(r,"property","twitter:card"),b(r,"content","summary"),b(a,"property","twitter:creator"),b(a,"content","@fsargent"),b(n,"property","twitter:title"),b(n,"content",o[0].info.jurisdictionName+" / "+o[0].info.name),b(l,"name","twitter:description"),b(l,"content","approval.vote: "+o[0].info.jurisdictionName+" / "+o[0].info.name+" / "+o[0].info.date.slice(0,4)),b(R,"class","row"),b(c,"class","wide container"),tt(E,"display","none"),b(E,"href",_e+"/card/"+o[1])},m(v,T){i(document.head,t),i(document.head,r),i(document.head,a),i(document.head,n),i(document.head,l),w(v,k,T),w(v,c,T),We(p,c,null),i(c,L),i(c,P),i(c,B),i(c,R),w(v,H,T),w(v,E,T),i(E,M),h=!0},p(v,[T]){(!h||T&1)&&e!==(e="approval.vote: "+v[0].info.jurisdictionName+" / "+v[0].info.name+" / "+v[0].info.date.slice(0,4))&&(document.title=e)},i(v){h||(ze(p.$$.fragment,v),h=!0)},o(v){Ke(p.$$.fragment,v),h=!1},d(v){v&&(s(k),s(c),s(H),s(E)),s(t),s(r),s(a),s(n),s(l),Qe(p)}}}function ht(o,e,t){let{data:r}=e,a=r.report,n=r.path;return o.$$set=l=>{"data"in l&&t(2,r=l.data)},[a,n,r]}class Nt extends Pe{constructor(e){super(),Je(this,e,ht,pt,Fe,{data:2})}}export{Nt as component};
